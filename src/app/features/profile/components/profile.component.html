<div class="max-w-3xl mx-auto p-6" *ngIf="currentUser$ | async as user">
  <mat-card class="bg-white shadow-lg rounded-lg">
    <mat-card-header class="border-b border-gray-200 pb-4 mb-6">
      <mat-card-title class="text-2xl font-bold text-gray-800"
        >Profile Settings</mat-card-title
      >
      <mat-card-subtitle class="text-gray-600"
        >Manage your account information</mat-card-subtitle
      >
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Email Field -->
          <mat-form-field class="w-full">
            <mat-label>Email</mat-label>
            <input
              matInput
              type="email"
              formControlName="email"
              placeholder="your@email.com"
            />
            <mat-error *ngIf="profileForm.get('email')?.hasError('required')">
              Email is required
            </mat-error>
            <mat-error *ngIf="profileForm.get('email')?.hasError('email')">
              Please enter a valid email
            </mat-error>
          </mat-form-field>

          <!-- Phone Field -->
          <mat-form-field class="w-full">
            <mat-label>Phone</mat-label>
            <input
              matInput
              type="tel"
              formControlName="phone"
              placeholder="+1 234 567 890"
            />
            <mat-error *ngIf="profileForm.get('phone')?.hasError('required')">
              Phone number is required
            </mat-error>
          </mat-form-field>

          <!-- First Name Field -->
          <mat-form-field class="w-full">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" placeholder="John" />
            <mat-error
              *ngIf="profileForm.get('firstName')?.hasError('required')"
            >
              First name is required
            </mat-error>
          </mat-form-field>

          <!-- Last Name Field -->
          <mat-form-field class="w-full">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" placeholder="Doe" />
            <mat-error
              *ngIf="profileForm.get('lastName')?.hasError('required')"
            >
              Last name is required
            </mat-error>
          </mat-form-field>

          <!-- Address Field -->
          <mat-form-field class="w-full md:col-span-2">
            <mat-label>Address</mat-label>
            <textarea
              matInput
              formControlName="address"
              rows="2"
              placeholder="Enter your full address"
            ></textarea>
            <mat-error *ngIf="profileForm.get('address')?.hasError('required')">
              Address is required
            </mat-error>
          </mat-form-field>

          <!-- Birth Date Field -->
          <mat-form-field class="w-full">
            <mat-label>Birth Date</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              formControlName="birthDate"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error
              *ngIf="profileForm.get('birthDate')?.hasError('required')"
            >
              Birth date is required
            </mat-error>
          </mat-form-field>
        </div>

        <div
          class="flex justify-between items-center pt-6 border-t border-gray-200"
        >
          <button
            mat-flat-button
            color="warn"
            type="button"
            (click)="deleteAccount()"
          >
            <mat-icon class="mr-2">delete</mat-icon>
            Delete Account
          </button>

          <button
            mat-flat-button
            color="primary"
            type="submit"
            [disabled]="!profileForm.valid"
          >
            <mat-icon class="mr-2">save</mat-icon>
            Save Changes
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
